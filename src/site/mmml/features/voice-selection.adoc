:ditaa-options: separation=false, no-shadows, round-corners, scale=2.5

[%nowrap, script]
----
----


[%nowrap,json]
.patterns (song.json)
----
{
  "$body": "eval:array:$(voice $(device) guitar)"
}
----

.pattern "voice-guitar" a for GM1 device in song.json
----
{
  "$body": [ { "$program":24 }, { "$bank": 0.0 } ]
}
----

.pattern "voice-guitar" for a JV-10x0 device in song.json
----
{
  "$body": [ { "$sysex": ["$jv-set-patchnum-pr-b", "$channel", 8] } ]
}
----

[ditaa]
----
Sequence

 Time ------------------------------------------------------------------------------->
+----+-------------+------------------------------------------------------------------+
|    |  +-------+  |  +-------+                                                       |
|    |  |pattern|  |  |pattern|                                                       |
|    |  +-------+  |  +-------+                                                       |
|    |             |                                                                  |
|    |  +-------+  |  +-------+                                                       |
|part|  |pattern|  |  |pattern|                                                       |
|    |  +-------+  |  +-------+                                                       |
|    |             |                    +-------------------------------------------+ |
|    |  +-------+  |  +-------+         |+------------------+ +---------------+     | |
|    |  |pattern|  |  |pattern|<>------>||{notes,length,...}| | {"...":"..."} | ... | |
|    |  +-------+  |  +-------+    body |+------------------+ +---------------+     | |
|    |             |                    +-------------------------------------------+ |
+----+-------------+------------------------------------------------------------------+


----